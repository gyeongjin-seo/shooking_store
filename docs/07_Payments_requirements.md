# 1. 뭘 만들어야 하지? (요구사항)

## 결제 모듈(신용카드 등록) 요구사항 분석 및 기능 목록

### 📌 기본 정보

- **프로젝트명:** shooking_store 결제 모듈 (모바일)
- **사용하게 될 기술:** React.js, React Hooks (useState, useEffect 등)
- **문서 작성자:** 서경진

---

### 📝 고객 요구사항 정리

**1. 다중 신용카드 등록 지원**

- 결제 모듈 내에 신용카드 등록 기능 구현 필수
- 단일 카드가 아닌, 사용자가 여러 장의 카드를 등록할 수 있는 환경 제공 필요

**2. 철저한 보안 및 마스킹 처리**

- 카드 정보와 같은 민감한 데이터 취급에 따른 철저한 보안 요구
- 카드 뒷면 8자리 및 CVC 등의 보안 코드는 반드시 숨김(마스킹) 처리할 것

**3. 협업 및 검수 프로세스**

- 개발 중간 결과물 확인 및 상호 피드백을 위한 테스트 URL 제공 필요
- UI 디자인 파일은 영업팀으로부터 이메일로 수신 예정
- 최종 결과물 도출 목표 일정은 약 2주

---

### 📋 상세 기능 및 구현 목록 (기능 단위 분할)

기능을 최대한 작은 단위로 나누고, 각 기능별 구현 방법, 사용할 컴포넌트, 그리고 예외 처리 사항을 정의합니다.

#### 1. 카드 정보 입력 기능 (Input Fields)

- **사용할 컴포넌트:** `<CardInputForm />`, `<InputField />` (재사용 가능한 입력 컴포넌트)
- **구현 방법:** `useState`를 사용하여 각 입력 필드의 상태를 관리하고, `onChange` 이벤트 핸들러를 통해 입력값을 실시간으로 업데이트 및 검증합니다.

**1.1. 카드 번호 입력 (Card Number)**

- **기능:** 16자리 숫자 입력 및 4자리 단위 자동 하이픈(`-`) 추가
- **예외 처리 및 유효성 검사:**
  - 숫자 이외의 문자는 입력 불가하도록 제한 (정규표현식 `^[0-9]*$` 활용)
  - 최대 16자리까지만 입력 가능하도록 제한
- **마스킹 구현:** 앞 8자리는 노출하고, 뒤 8자리는 실시간으로 `*` 기호로 변환하여 렌더링 (`slice` 및 `replace` 메서드 활용)

**1.2. 유효기간 입력 (Expiration Date)**

- **기능:** `MM/YY` 형식으로 월과 연도 입력 지원
- **예외 처리 및 유효성 검사:**
  - 숫자만 입력 가능하도록 제한
  - **월(Month):** `01`부터 `12` 사이의 숫자만 입력 가능하도록 범위 지정 및 예외 처리 (예: `13` 입력 시 차단 또는 에러 메시지 노출)
  - **연도(Year):** 현재 연도보다 이전 연도 입력 시 유효성 에러 처리

**1.3. CVC / CVV 입력**

- **기능:** 카드 뒷면 3자리 숫자 입력
- **예외 처리 및 유효성 검사:**
  - 숫자만 입력 가능, 최대 3자리 제한
- **마스킹 구현:** 입력 시 화면에 입력값 전체가 `*` 기호로만 노출되도록 `<input type="password">` 속성 또는 커스텀 마스킹 로직 적용

**1.4. 카드 비밀번호 입력 (Password)**

- **기능:** 비밀번호 앞 2자리 입력
- **예외 처리 및 유효성 검사:**
  - 숫자만 입력 가능, 최대 2자리 제한
- **마스킹 구현:** 화면에 입력값 전체가 `*` 기호로 노출되도록 전체 마스킹 적용

#### 2. 다중 카드 상태 관리 및 저장 (State Management)

- **사용할 컴포넌트:** `<PaymentContainer />` (최상위 부모 컴포넌트)
- **구현 방법:**
  - 등록된 카드 정보들을 배열(Array) 형태의 상태(`cardList`)로 관리
  - 폼 제출(Submit) 시 유효성 검사를 통과한 카드 데이터 객체를 배열에 추가(`setCardList(prev => [...prev, newCard])`)

#### 3. 등록된 카드 목록 UI (Card List Display)

- **사용할 컴포넌트:** `<CardList />`, `<CardItem />`
- **구현 방법:**
  - 상태로 관리 중인 `cardList` 배열을 `map` 함수를 사용하여 렌더링
  - 각 `<CardItem />`에는 마스킹된 카드 번호(예: `1234-5678-****-****`)와 등록 시 지정한 카드 별칭(옵션) 노출

#### 4. 배포 및 테스트 환경 구축

- **구현 방법:** Vercel 플랫폼을 활용하여 프로젝트 리포지토리(GitHub) 연동 및 자동 배포 파이프라인 구축
- 영업팀 전달용 테스트 URL 생성

---
